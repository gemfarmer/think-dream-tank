<nav ng-controller="SideNavCtrl"  id="side-nav" ng-class="{'open': sideNavOpen}">
  <button type="button" class="navbar-toggle" ng-click="toggleMenu()">
    <span class="sr-only">Toggle navigation</span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <h4 ng-show="isLoggedIn()">
    <img ng-if="userInfo && $root.isCollapsed" id="profile-picture" src="{{userInfo.profileImage}}"/>
    <!-- <img id="profile-picture" src="https://graph.facebook/{{currentUser.facebook.id}}/picture"/> -->
    <!-- <img id="profile-picture" ng-src="{{currentUser.profilePicture}}"/> -->

    <p ng-if="userInfo && $root.isCollapsed" class="navbar-text">
      Hello, {{ userInfo.firstName }}
    </p> 
  </h4>
  <h4 ng-show="!isLoggedIn()" class="header">
    Think Dream Tank
  </h4>
  <div id="navbar-main">
    <ul class="nav navbar-nav" ng-if="sideNavOpen">
      <li class="menuItem" ng-repeat="item in menu" ng-class="{active: isActive(item.link)}">
          <a ng-href="{{item.link}}"><span class="nav-text">{{item.title}}</span></a>
      </li>
      <br>
      <hr>
      <br>
      <li class="menuItem" ng-show="isAdmin() && isLoggedIn()" ng-class="{active: isActive('/admin')}"><a href="/admin">Admin</a></li>
      <li class="menuItem" ng-hide="isLoggedIn()" ng-class="{active: isActive('/signup')}"><a href="/signup">Sign up</a></li>
      <li class="menuItem" ng-hide="isLoggedIn()" ng-class="{active: isActive('/login')}"><a href="/login">Login</a></li>
      <li class="menuItem" ng-hide="isLoggedIn()"><a href="javascript:void(0)" ng-click="loginOauth('facebook')">Login with Facebook</a></li>
      <li class="menuItem" ng-show="isLoggedIn()" ng-class="{active: isActive('/settings')}"><a href="/settings">Settings</a></li>
      <li class="menuItem" ng-show="isLoggedIn()" ng-class="{active: isActive('/logout')}"><a href="" ng-click="logout()">Logout</a></li>
    </ul>

    <ul class="nav navbar-nav icons" ng-if="!sideNavOpen">
      <li class="menuItem" ng-repeat="item in menu" ng-class="{active: isActive(item.link)}">
          <a ng-href="{{item.link}}"><i class="fa fa-{{item.iconName}}"></i></a>
      </li>
      <br>
      <hr>
      <br>
      <li class="menuItem" ng-show="isAdmin() && isLoggedIn()" ng-class="{active: isActive('/admin')}"><a href="/admin"><i class="fa fa-users"></i></a></li>
      <li class="menuItem" ng-hide="isLoggedIn()" ng-class="{active: isActive('/signup')}"><a href="/signup"><i class="fa fa-plus"></i></a></li>
      <li class="menuItem" ng-hide="isLoggedIn()" ng-class="{active: isActive('/login')}"><a href="/login"><i class="fa fa-sign-in"></i></a></li>
      <li class="menuItem" ng-hide="isLoggedIn()"><a href="javascript:void(0)" ng-click="loginOauth('facebook')"><i class="fa fa-facebook"></i>
      </a></li>
      <li class="menuItem" ng-show="isLoggedIn()" ng-class="{active: isActive('/settings')}"><a href="/settings"><i class="fa fa-cogs"></i></a></li>
      <li class="menuItem" ng-show="isLoggedIn()" ng-class="{active: isActive('/logout')}"><a href="" ng-click="logout()"><i class="fa fa-sign-out"></i></a></li>
    </ul>


  </div>
</nav>
